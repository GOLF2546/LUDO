@main("Ludo Game", "game-page") {
<div class="custom-container">
  <div class="ludo-board">
    <p>Dice Roll: <span id="diceResult">Click 'Roll Dice' to start</span></p>
    <button id="rollDiceBtn" onclick="rollDice()" disabled>ðŸŽ² Roll Dice</button>
    <button id="getPlayersBtn" onclick="getPlayers()">ðŸ”„ Get Players</button>
    <button id="skipBtn" onclick="skipTurn()" disabled>Skip Turn</button>
    <div class="game-grid">
      <div class="home-base home-base-green">
        <div class="home-square">@components.pawnAtHome(4, "Green")</div>
      </div>
      <div class="path-vertical">@components.path(18, "Yellow")</div>
      <div class="home-base home-base-yellow">
        <div class="home-square">@components.pawnAtHome(4, "Yellow")</div>
      </div>
      <div class="path-horizontal">@components.path(18, "Green")</div>
      <div class="center-star">
        <div id="Y6" class="top-left"></div>
        <div id="B6" class="top-right"></div>
        <div id="G6" class="bottom-left"></div>
        <div id="R6" class="bottom-right"></div>
      </div>
      <div class="path-horizontal">@components.path(18, "Blue")</div>
      <div class="home-base home-base-red">
        <div class="home-square">@components.pawnAtHome(4, "Red")</div>
      </div>
      <div class="path-vertical">@components.path(18, "Red")</div>
      <div class="home-base home-base-blue">
        <div class="home-square">@components.pawnAtHome(4, "Blue")</div>
      </div>
    </div>
  </div>
  <div class="button-container3">
    <img
    src="@routes.Assets.versioned("images/components/button/homegamepage.png")"
    alt="home page" class="home-btn" onclick="homePage()">
  </div>
</div>

<script>
  let gameState = "start"; // "start", "inGame", or "endGame"

  // Function to start the game
  function startGame() {
    gameState = "inGame"; // Transition to the in-game state
    document.getElementById("rollDiceBtn").disabled = false; // Enable dice roll
    document.getElementById("skipBtn").disabled = false; // Enable skip button
    console.log("Game started!");
  }

  // Function to return to the home page
  function homePage() {
    window.location.href = "@routes.HomeController.index()";
  }

  // Function to roll the dice (only works in the "inGame" state)
  function rollDice() {
    if (gameState !== "inGame") {
      console.log("Can't roll dice: The game is not in progress.");
      return;
    }

    fetch("/rollDice")
      .then((response) => response.text())
      .then((data) => {
        document.getElementById("diceResult").innerText = "ðŸŽ² " + data;
        console.log("Rolled dice:", data);
      });
  }

  // Function to skip turn (only works in the "inGame" state)
  function skipTurn() {
    if (gameState !== "inGame") {
      console.log("Can't skip turn: The game is not in progress.");
      return;
    }

    console.log("Turn skipped!");
    // You can add further functionality here for skipping turns
  }

  // Function to fetch and log players from the backend (console only)
  function getPlayers() {
    fetch("/players")
      .then((response) => response.json())
      .then((data) => {
        console.log("Players:", data); // Log players to the console
      })
      .catch((error) => console.error("Error fetching players:", error));
  }

  // Call startGame when the page loads (for demonstration purposes)
  window.onload = startGame; // This is optional; it starts the game when the page loads
</script>
}
