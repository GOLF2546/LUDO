@main("Ludo Game", "game-page") {
<div class="custom-container">
  <div class="ludo-board">
    <div id="dice-result" style="font-size: 20px; margin: 20px 0">
      Click the button to roll the dice!
    </div>
    <button onclick="rollDice()">ðŸŽ² Roll Dice</button>
    <div id="game-players" style="font-size: 20px; margin: 20px 0">
      Click the button to start the game!
    </div>

    <button onclick="startGame()">Start Game</button>
    <div class="game-grid">
      <div class="home-base home-base-green">
        <div class="home-square">@components.pawnAtHome(4, "Green")</div>
      </div>

      <div class="path-vertical">@components.path(18, "Yellow")</div>

      <div class="home-base home-base-yellow">
        <div class="home-square">@components.pawnAtHome(4, "Yellow")</div>
      </div>

      <div class="path-horizontal">@components.path(18, "Green")</div>

      <div class="center-star">
        <div id="Y6" class="top-left"></div>
        <div id="B6" class="top-right"></div>
        <div id="G6" class="bottom-left"></div>
        <div id="R6" class="bottom-right"></div>
      </div>

      <div class="path-horizontal">@components.path(18, "Blue")</div>

      <div class="home-base home-base-red">
        <div class="home-square">@components.pawnAtHome(4, "Red")</div>
      </div>

      <div class="path-vertical">@components.path(18, "Red")</div>

      <div class="home-base home-base-blue">
        <div class="home-square">@components.pawnAtHome(4, "Blue")</div>
      </div>
    </div>
  </div>
  <div class="button-container3">
    <img
    src="@routes.Assets.versioned("images/components/button/homegamepage.png")"
    alt="home page" class="home-btn" onclick="homePage()">
  </div>
</div>

<script>
  function homePage() {
    window.location.href = "@routes.HomeController.index()";
  }
  async function rollDice() {
    try {
      const response = await fetch("@routes.DiceController.rollDice.url", {
        method: "GET",
        headers: {
          Accept: "application/json",
        },
      });
      const result = await response.json();
      document.getElementById("dice-result").innerText = "Dice Roll: " + result;
    } catch (error) {
      console.error("Error rolling dice:", error);
      document.getElementById("dice-result").innerText =
        "Failed to roll the dice.";
    }
  }
  async function startGame() {
    try {
      const response = await fetch("@routes.GameController.startGame.url", {
        method: "GET",
        headers: {
          Accept: "application/json",
        },
      });
      const players = await response.json();
      let playerDetails = players
        .map(
          (player) =>
            `Player ${player.id} (${player.color}): ${player.pawns.length} pawns`
        )
        .join("<br>");
      document.getElementById("game-players").innerHTML = playerDetails;
    } catch (error) {
      console.error("Error starting game:", error);
      document.getElementById("game-players").innerText =
        "Failed to start the game.";
    }
  }
</script>
}
